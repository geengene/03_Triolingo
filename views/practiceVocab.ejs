<!-- TODO: make it anki flashcard style for practice, and beautify the view all vocab page  -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles/practiceVocab.css" />
    <title>Practice Vocabulary</title>
  </head>
  <body>
    <!-- TODO: write a script that gets a random word from database, display it dynamically with hidden definition. -->
    <div class="card">
      <h1><%= words[0].text %></h1>
      <h2><%= words[0].translation %></h2>
    </div>
    <div class="buttons">
      <button class="Space diffButton" id="show">
        <p>Show Answer</p>
      </button>
      <button class="Digit1 diffButton hidden" id="easy">
        <p>Easy</p>
      </button>
      <button class="Digit2 diffButton hidden" id="medium">
        <p>Medium</p>
      </button>
      <button class="Digit3 diffButton hidden" id="hard">
        <p>Hard</p>
      </button>
      <button class="Digit4 diffButton hidden" id="again">
        <p>Again</p>
      </button>
    </div>
  </body>
</html>
<script>
  const showButton = document.getElementById("show");
  const easyButton = document.getElementById("easy");
  const mediumButton = document.getElementById("medium");
  const hardButton = document.getElementById("hard");
  const againButton = document.getElementById("again");

  document.addEventListener("keydown", function (event) {
    console.log(event.code);
    if (event.code === "Space") {
      event.preventDefault(); // Prevent default spacebar action (scrolling)
      showButton.click();
      animateButton(event.code);
    }
    const showButtonClass = document.getElementById("show");
    if (showButtonClass.classList.contains("hidden")) {
      switch (event.code) {
        case "Digit1":
          animateButton(event.code);
          easyButton.click();
          break;
        case "Digit2":
          animateButton(event.code);
          mediumButton.click();
          break;
        case "Digit3":
          animateButton(event.code);
          hardButton.click();
          break;
        case "Digit4":
          animateButton(event.code);
          againButton.click();
          break;
      }
    }
  });

  document.getElementById("show").addEventListener("click", function () {
    const buttons = document.querySelectorAll(".diffButton.hidden");
    buttons.forEach((button) => button.classList.remove("hidden"));
    const showButton = document.getElementById("show");
    showButton.classList.add("hidden");
  });

  function animateButton(currentKey) {
    const activeButton = document.querySelector("." + currentKey);
    activeButton.classList.add("active");
    setTimeout(function () {
      activeButton.classList.remove("active");
    }, 100);
  }
</script>
